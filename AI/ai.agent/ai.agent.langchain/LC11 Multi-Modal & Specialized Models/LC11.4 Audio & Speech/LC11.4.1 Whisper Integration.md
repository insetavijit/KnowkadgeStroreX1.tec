| **Subtopic**                                   | **Focus & Purpose**                     | **Key Concepts / Details**                                                    | **One-Line Recall**                                             |
| ---------------------------------------------- | --------------------------------------- | ----------------------------------------------------------------------------- | --------------------------------------------------------------- |
| **LC11.4.1.1 What is Whisper?**                | Overview                                | OpenAI's speech recognition model                                             | Whisper is OpenAI's powerful STT model.                         |
| **LC11.4.1.2 Whisper API**                     | Cloud                                   | Using OpenAI's hosted Whisper API                                             | Use OpenAI API for simple Whisper integration.                  |
| **LC11.4.1.3 Local Whisper**                   | Self-hosted                             | Running Whisper locally with whisper.cpp or faster-whisper                    | Run Whisper locally for privacy/cost.                           |
| **LC11.4.1.4 Model Sizes**                     | Trade-offs                              | tiny, base, small, medium, large, large-v2, large-v3                          | Larger models = better accuracy, slower speed.                  |
| **LC11.4.1.5 Language Support**                | Multilingual                            | Whisper supports 99+ languages                                                | Whisper handles 99+ languages automatically.                    |

# Whisper Integration: Speech Recognition

OpenAI's Whisper is revolutionizing speech-to-text with near-human accuracy.

---

## 1. What is Whisper?

Whisper is an automatic speech recognition (ASR) model trained on 680,000 hours of multilingual audio.

**Capabilities**:
*   Speech-to-text transcription
*   Translation to English
*   Language detection
*   Timestamp generation

---

## 2. OpenAI Whisper API

The simplest way to use Whisper:

```python
from openai import OpenAI

client = OpenAI()

# Transcribe audio file
with open("audio.mp3", "rb") as audio_file:
    transcript = client.audio.transcriptions.create(
        model="whisper-1",
        file=audio_file
    )

print(transcript.text)
```

**With timestamps**:
```python
transcript = client.audio.transcriptions.create(
    model="whisper-1",
    file=audio_file,
    response_format="verbose_json",
    timestamp_granularities=["word", "segment"]
)
```

---

## 3. Local Whisper

For privacy, cost savings, or offline use:

**Option A: faster-whisper (Recommended)**
```bash
pip install faster-whisper
```

```python
from faster_whisper import WhisperModel

model = WhisperModel("large-v3", device="cuda", compute_type="float16")

segments, info = model.transcribe("audio.mp3", beam_size=5)

for segment in segments:
    print(f"[{segment.start:.2f}s -> {segment.end:.2f}s] {segment.text}")
```

**Option B: OpenAI Whisper package**
```bash
pip install openai-whisper
```

```python
import whisper

model = whisper.load_model("large-v3")
result = model.transcribe("audio.mp3")
print(result["text"])
```

---

## 4. Model Sizes

| Model | Parameters | VRAM | Speed | Accuracy |
|-------|------------|------|-------|----------|
| **tiny** | 39M | ~1GB | Fast | Low |
| **base** | 74M | ~1GB | Fast | Fair |
| **small** | 244M | ~2GB | Medium | Good |
| **medium** | 769M | ~5GB | Slow | Very Good |
| **large-v3** | 1.55B | ~10GB | Slowest | Best |

**Recommendation**: Use `large-v3` for quality, `small` for speed.

---

## 5. Language Support

Whisper automatically detects language, or you can specify:

```python
# Automatic detection
transcript = client.audio.transcriptions.create(
    model="whisper-1",
    file=audio_file
)

# Specify language (faster, sometimes more accurate)
transcript = client.audio.transcriptions.create(
    model="whisper-1",
    file=audio_file,
    language="es"  # Spanish
)
```

---

## Quick Reference

| Approach | When to Use |
|----------|-------------|
| **OpenAI API** | Simple, quick start |
| **faster-whisper** | Local, GPU available |
| **whisper.cpp** | Edge devices, CPU |
