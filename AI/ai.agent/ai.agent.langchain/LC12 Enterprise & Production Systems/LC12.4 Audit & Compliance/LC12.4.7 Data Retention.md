| **Subtopic** | **Focus** | **Key Concepts** | **One-Line Recall** |
|---|---|---|---|
| **LC12.4.7** | Policies | Define retention periods | How long to keep data. |
| **LC12.4.8** | Automation | Auto-delete old data | Scheduled cleanup jobs. |
| **LC12.4.9** | Legal Hold | Preserve for litigation | Don't delete during legal action. |

# Data Retention

```python
RETENTION_POLICIES = {
    "conversations": 90,  # days
    "audit_logs": 365 * 7,  # 7 years
    "user_data": 30,  # after account deletion
}

class RetentionManager:
    async def cleanup_old_data(self):
        for data_type, retention_days in RETENTION_POLICIES.items():
            cutoff = datetime.utcnow() - timedelta(days=retention_days)
            
            # Check legal holds
            held_ids = await legal_hold_service.get_held_ids(data_type)
            
            # Delete old data (excluding legal holds)
            await db.execute(f"""
                DELETE FROM {data_type}
                WHERE created_at < %s
                AND id NOT IN %s
            """, (cutoff, tuple(held_ids)))
            
            logger.info(f"Cleaned up {data_type} older than {retention_days} days")
```

**Quick Ref:** Define retention periods, automate cleanup, respect legal holds.
