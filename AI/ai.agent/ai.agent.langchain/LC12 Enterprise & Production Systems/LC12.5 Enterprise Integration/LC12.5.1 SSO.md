| **Subtopic** | **Focus** | **Key Concepts** | **One-Line Recall** |
|---|---|---|---|
| **LC12.5.1** | SAML/OAuth | Single sign-on integration | One login for all apps. |
| **LC12.5.2** | Providers | Okta, Auth0, Azure AD | Enterprise identity providers. |
| **LC12.5.3** | Implementation | SSO integration code | Implement SSO flows. |

# SSO: Single Sign-On

```python
from authlib.integrations.starlette_client import OAuth

oauth = OAuth()
oauth.register(
    name='okta',
    client_id=OKTA_CLIENT_ID,
    client_secret=OKTA_CLIENT_SECRET,
    server_metadata_url=f'{OKTA_DOMAIN}/.well-known/openid-configuration',
    client_kwargs={'scope': 'openid email profile'}
)

@app.get('/auth/sso/login')
async def sso_login(request):
    redirect_uri = request.url_for('sso_callback')
    return await oauth.okta.authorize_redirect(request, redirect_uri)

@app.get('/auth/sso/callback')
async def sso_callback(request):
    token = await oauth.okta.authorize_access_token(request)
    user_info = token['userinfo']
    
    # Create/update user
    user = await user_service.sync_from_sso(user_info)
    
    # Generate app token
    jwt_token = generate_token(user.id)
    return {"token": jwt_token}
```

**Quick Ref:** Delegate authentication to enterprise IdP, sync user attributes.
